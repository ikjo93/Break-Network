### OSI 7 계층이란?
+ 국제표준화기구(ISO)에서 개발한 `표준 네트워크 모델`
+ 네트워크에서 통신이 일어나는 과정을 7 계층으로 나눔
+ 이질적인 시스템(하드웨어, 소프트웨어)간 원활한 상호 접속을 위해 개념 규정(표준화)

<br>

### OSI 7 계층 특성
+ 네트워크 시스템을 계층화의 효과
  + 특정 계층에서 어떤 오류가 발생 시 다른 계층에서의 수정을 최소화하고 해당 계층에 대해서만 수정 작업할 수 있음
  + 7 계층으로 구분하여 통신 과정을 단계별로 파악하기 용이
+ 하위계층으로 갈수록 하드웨어에 가까워지고, 상위계층으로 갈수록 소프트웨어에 더 가까운 특성이 있음
+ 각 계층은 자기 아래의 계층과만 통신하며 자기 위의 계층에서 사용할 수 있는 기능을 제공

<br>

### OSI 계층의 설계 원칙
+ 계층 간에는 독립성이 유지되어야 한다.
  + 계층별 높은 응집도 및 계층 간 낮은 결합도
+ 적절할 수의 계층을 두어 시스템의 복잡도를 최소화해야 한다.
  + 비슷한 프로토콜이나 하드웨어(네트워크 노드)는 하나의 계층으로 묶어 효율성을 높여야 한다.
+ 서비스 접점에 경계를 두고 되도록 적은 상호작용(인터페이스)이 일어나도록 한다.

<br>

### OSI 7 계층 구성
+ Application Layer(응용 계층, 7 계층)
+ Presentation Layer(표현 계층, 6 계층)
+ Session Layer(세션 계층, 5 계층)
+ Transport Layer(전송 계층, 4 계층)
+ Network Layer(네트워크 계층, 3 계층)
+ DataLink Layer(데이터 링크 계층, 2 계층)
+ Physical Layer(물리 계층, 1 계층)

<br>

### OSI 7 계층 상 데이터 흐름도
+ 데이터 전송 : 응용 → 표현 → 세션 → 전송 → 네트워크 → 데이터 링크 → 물리 → 전송선로(유선 or 무선)
+ 데이터 수신 : 전송선로(유선 or 무선) → 물리 → 데이터 링크 → 네트워크 → 전송 → 세션 → 표현 → 응용

<br>

### 데이터 캡슐화
+ 사용자 데이터가 각 계층을 지날 때 하위 계층은 상위 계층으로부터 온 정보를 데이터로 취급하며 자신의 계층 특성을 담은 제어정보(주소, 에러 제어 등)를 헤더화
+ 각 계층은 다른 계층과 통신할 때 데이터에 특정 정보가 들어 있는 머리말(헤더) 또는 꼬리말(푸터)을 추가한 후 다른 계층으로 전달
+ PDU(Protocol Data Unit)는 프로토콜 데이터 단위이며 OSI 모델의 정보 처리 단위로 캡슐화 과정에서 만들어짐
  + 응용 계층 AH, 표현 계층 PH, 세션 계층 SH 등의 해당 계층별 헤더 정보들을 PCI(Protocol Control Information)라고 함
  + 상위 계층으로부터 전달받은 데이터를 SDU(Service Data Unit)라고 하며, SDU에 PCI를 결합하면 PDU가 만들어짐
+ 아래 계층으로 내려갈수록 PDU에는 다양한 프로토콜에 의해 헤더와 푸터가 더해지며 물리 계층에서 최종적인 형태
+ 반대로 데이터를 받은 컴퓨터는 PDU로부터 프로토콜의 헤더와 푸터를 분석하며 올라가 마지막 응용 계층에 도달하면 원본 데이터만 남음
```
※ 참고
SAP(Service Access Point) 서비스 액세스점
OSI 계층 모델 등에서 임의 계층에 속하는 통신 개체가 하위 계층으로부터 서비스의 제공을 받을 때, 
해당 서비스를 호출하는 계층간 접면의 통로를 마치 하나의 점으로 모델화시킨 개념적인 점
```

<br>

### 물리 계층
+ 이진 데이터(0과 1)를 어떤 신호로 보낼지 등 물리적 특성을 정의
  + 이진 데이터 → 디지털 신호(구형파 등) → 아날로그 신호(사인파 등)
  + 송신측 : 디지털 신호를 아날로그 신호로 변환(인코딩)
  + 수신측 : 아날로그 신호를 디지털 신호로 해석(디코딩)
+ 통신케이블, 리피터, 허브, 모뎀 등 하드웨어적으로 구현

<br>

### 데이터링크 계층
+ 물리 계층의 신뢰성을 확보하는 역할(프레임 생성)
  + 패킷 캡슐화 처리(Framing) : 패킷 앞 단에 프리앰블과 헤더(Mac Address 등)를, 패킷 뒷 단에 FCS(Frame Check Sequence)를 결합
  + 캡슐 처리된 패킷을 `(HDLC) 프레임`이라고 함
  + 이더넷에서 프레임 규격은 대부분 이더넷 2를 사용
+ MAC Address로 통신 대상의 컴퓨터 장치를 식별
+ 오류 검증 : FCS를 통해 데이터가 전달되는 동안 오류가 포함되는지를 감지
  + 오류가 있는 경우 해당 데이터 폐기
+ FCS를 통한 오류 검증
  + FCS는 데이터의 이상 여부 검증하는 필드(오류 제어 역할 담당)
  + 헤더와 데이터에 대한 일정한 계산(체크섬, 순환 중복 검사)을 실시하여 FCS에 추가
+ 랜카드(NIC) 등 하드웨어적으로 구현

<br>

### 네트워크 계층
+ 통신 대상의 컴퓨터 주소를 정의하는 역할(패킷 생성)
  + IP로 통신 대상의 컴퓨터 주소 식별
+ 도메인을 통해 상대방 컴퓨터의 IP 주소를 찾는 작업 수행(호스트 파일, DNS 서버)
+ 인터넷 네트워크 상 목적지 컴퓨터에 데이터를 전송하기 위해 IP 주소를 통해 길을 찾고(라우팅), 자기 자신 다음의 라우터에게 데이터를 넘겨주는 일 처리(포워딩)
  + 라우터의 역할 : 자신에게 속한 컴퓨터들 중 목적지 주소 IP가 있는지 확인 후, 없는 경우 자기와 연결된 다른 라우터에 해당 패킷 전달(패킷 포워딩)
+ 연결 모델: 비연결 지향 통신
+ 호스트 주소 할당: 네트워크 내 모든 호스트는 고유 주소를 가져야 함
+ 메시지 포워딩
+ 네트워크 계층 기술은 운영체제 커널에 소프트웨어적으로 구현
  + 관련 프로토콜 : IPv4/IPv6, ARP, IPX 등
  + 관련 하드웨어 : 라우터, L3 스위치 등

<br>

### 전송 계층
+ 통신 대상인 프로세스를 정의하는 역할(세그먼트 생성)
  + 포트 번호로 통신 대상 프로세스 식별
+ 데이터 송신 프로세스와 데이터 수신 프로세스를 서로 연결
  + tcp 3 & 4 way handshake
+ 연결 지향 데이터 스트림 지원, 신뢰성, 흐름 제어, 그리고 다중화와 같은 편리한 서비스를 제공
+ 전송 계층 기술은 운영체제 커널에 소프트웨어적으로 구현
  + 관련 프로토콜 : TCP, UDP 등

<br>

### 세션 계층
+ 통신 방법(반이중, 전이중) 정의
  + 반이중 통신 : 한쪽이 송신하는 동안 다른 쪽에서는 수신하는 통신 방식으로 전송 방향을 매번 교체
  + 전이중 통신 : 두 대의 단말기가 데이터를 송수신하기 위해 동시에 각각 독립된 회선을 사용하는 통신 방식
+ 동기화 기능을 제공하여 동기점 설정 가능
  + 동기점 설정 : 동기점 그 이전까지의 통신은 서로 완벽하게 처리했다는 것을 의미

<br>

### 표현 계층
+ 문자 코드 번역, 압축, 암호화 및 복호화 등 기능 제공

<br>

### 응용 계층
+ 사용자에게 가장 직접적으로 보이는 부분으로서 사용자 응용 프로그램 또는 사용자 인터페이스로 정의
  + 사용자가 네트워크에 접근할 수 있도록 인터페이스를 제공
  + 크롬 등 브라우저, 카카오톡 등 응용 프로그램들은 응용 계층에서 동작하는 것이라고 볼 수 있음
+ 응용 계층 프로토콜: SMTP, HTTP, FTP 등
  + 응용 계층 프로토콜은 기반이 되는 전송 계층 프로토콜을 사용하여 호스트 간 연결을 확립

```
※ 참고
TCP/IP 소켓 프로그래밍(네트워크 프로그래밍)이란?
운영체제의 Transport layer에서 제공하는 API를 활용해서 통신 가능한 프로그램을 만드는 것으로,
소켓 프로그래밍 만으로도 클라이언트, 서버 프로그램을 만들어서 동작시킬 수 있으며,
자신만의 "어플리케이션 계층 인코더와 디코더(어플리케이션 계층 프로토콜)"를 만들 수 있음
```

<br>

### 참고자료
+ https://smashingpumpkins.tistory.com/entry/데이터링크-계층의-기술물리계층
+ https://www.youtube.com/watch?v=1pfTxp25MA8&list=LL&index=4
+ https://www.youtube.com/watch?v=WBgprCoRvPc&list=LL&index=9


